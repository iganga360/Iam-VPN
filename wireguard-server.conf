# WireGuard Server Configuration Template
# This file should be placed at /etc/wireguard/wg0.conf

[Interface]
# Server's private key (generate with: wg genkey)
PrivateKey = SERVER_PRIVATE_KEY_HERE

# Server's VPN IP address
Address = 10.0.0.1/24

# Port to listen on
ListenPort = 51820

# Post-up and post-down scripts for NAT
PostUp = iptables -A FORWARD -i wg0 -j ACCEPT; iptables -t nat -A POSTROUTING -o eth0 -j MASQUERADE
PostDown = iptables -D FORWARD -i wg0 -j ACCEPT; iptables -t nat -D POSTROUTING -o eth0 -j MASQUERADE

# DNS for clients (optional)
# DNS = 1.1.1.1, 1.0.0.1

# Example Peer (Client) Configuration
# Add one [Peer] section for each client

# [Peer]
# # Client's public key (client generates keypair, sends you their public key)
# PublicKey = CLIENT_PUBLIC_KEY_HERE
# 
# # IP address to assign to this client
# AllowedIPs = 10.0.0.2/32
# 
# # Keep connection alive (optional, in seconds)
# PersistentKeepalive = 25

# Instructions:
# 1. Generate server keys:
#    wg genkey | tee /etc/wireguard/server_private.key | wg pubkey > /etc/wireguard/server_public.key
#
# 2. Replace SERVER_PRIVATE_KEY_HERE with content of server_private.key
#
# 3. Enable IP forwarding:
#    echo "net.ipv4.ip_forward=1" >> /etc/sysctl.conf
#    sysctl -p
#
# 4. For each client:
#    - Generate client keypair: wg genkey | tee client_private.key | wg pubkey > client_public.key
#    - Add [Peer] section above with client's public key
#    - Assign unique IP (10.0.0.2, 10.0.0.3, etc.)
#    - Give client their config (see client-template.conf)
#
# 5. Start WireGuard:
#    systemctl enable wg-quick@wg0
#    systemctl start wg-quick@wg0
#
# 6. Check status:
#    wg show
